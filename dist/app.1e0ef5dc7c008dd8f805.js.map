{"version":3,"file":"app.1e0ef5dc7c008dd8f805.js","sources":["webpack:///src/redux/actions/counter.js","webpack:///src/redux/actions/userInfo.js","webpack:///src/index.js","webpack:///./node_modules/react-hot-loader/index.js","webpack:///./node_modules/react-hot-loader/lib/index.js","webpack:///./node_modules/react-hot-loader/lib/index.prod.js","webpack:///./node_modules/react-hot-loader/lib/AppContainer.js","webpack:///./node_modules/react-hot-loader/lib/AppContainer.prod.js","webpack:///src/redux/store.js","webpack:///./node_modules/redux-thunk/es/index.js","webpack:///src/redux/reducers.js","webpack:///src/redux/reducers/counter.js","webpack:///src/redux/reducers/userInfo.js","webpack:///src/router/router.js","webpack:///src/router/Bundle.js","webpack:///./src/pages/Home/index.js","webpack:///./src/pages/Page1/index.js","webpack:///./src/pages/Counter/Counter.js","webpack:///./src/pages/UserInfo/UserInfo.js"],"sourcesContent":["/*action*/\r\n\r\nexport const INCREMENT = \"counter/INCREMENT\";\r\nexport const DECREMENT = \"counter/DECREMENT\";\r\nexport const RESET = \"counter/RESET\";\r\n\r\nexport function increment() {\r\n    return {type: INCREMENT}\r\n}\r\n\r\nexport function decrement() {\r\n    return {type: DECREMENT}\r\n}\r\n\r\nexport function reset() {\r\n    return {type: RESET}\r\n}\n\n\n// WEBPACK FOOTER //\n// src/redux/actions/counter.js","export const GET_USER_INFO_REQUEST = 'userInfo/GET_USER_INFO_REQUEST'\r\nexport const GET_USER_INFO_SUCCESS = 'userInfo/GET_USER_INFO_SUCCESS'\r\nexport const GET_USER_INFO_FAIL = 'userInfo/GET_USER_INFO_FAIL'\r\n\r\nfunction getUserInfoRequest () {\r\n    return {\r\n        type: GET_USER_INFO_REQUEST\r\n    }\r\n}\r\n\r\nfunction getUserInfoSuccess (userInfo) {\r\n    return {\r\n        type: GET_USER_INFO_SUCCESS,\r\n        userInfo: userInfo\r\n    }\r\n}\r\n\r\nfunction getUserInfoFail () {\r\n    return {\r\n        type: GET_USER_INFO_FAIL\r\n    }\r\n}\r\n\r\nexport function getUserInfo() {\r\n    return function (dispatch) {\r\n        dispatch(getUserInfoRequest())\r\n\r\n        return fetch('http://127.0.0.1:8888/api/user.json')\r\n            .then((response => {\r\n                return response.json()\r\n            }))\r\n            .then((json) => {\r\n                dispatch(getUserInfoSuccess(json))\r\n            })\r\n            .catch(() => {\r\n                dispatch(getUserInfoFail())\r\n            })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// src/redux/actions/userInfo.js","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { AppContainer } from 'react-hot-loader'\r\nimport { Provider } from 'react-redux'\r\nimport store from './redux/store'\r\n\r\nimport getRouter from 'router/router'\r\n\r\n// 初始化\r\nrenderWithHotReload(getRouter())\r\n\r\n// 热更新\r\nif (module.hot) {\r\n    module.hot.accept('./router/router.js', () => {\r\n        const getRouter = require('./router/router').default\r\n        renderWithHotReload(getRouter())\r\n    })\r\n}\r\n\r\nfunction renderWithHotReload(RootElement) {\r\n    ReactDom.render(\r\n        <AppContainer>\r\n            <Provider store={store}>\r\n                {RootElement}\r\n            </Provider>\r\n        </AppContainer>,\r\n        document.getElementById('app')\r\n    )\r\n}\n\n\n// WEBPACK FOOTER //\n// src/index.js","module.exports = require('./lib/index')\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-hot-loader/index.js\n// module id = 219\n// module chunks = 4","'use strict';\n\n/* eslint-disable global-require */\n\nif (!module.hot || process.env.NODE_ENV === 'production') {\n  module.exports = require('./index.prod');\n} else {\n  module.exports = require('./index.dev');\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-hot-loader/lib/index.js\n// module id = 220\n// module chunks = 4","'use strict';\n\nmodule.exports.AppContainer = require('./AppContainer');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-hot-loader/lib/index.prod.js\n// module id = 221\n// module chunks = 4","'use strict';\n\n/* eslint-disable global-require */\n\nif (!module.hot || process.env.NODE_ENV === 'production') {\n  module.exports = require('./AppContainer.prod');\n} else {\n  module.exports = require('./AppContainer.dev');\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-hot-loader/lib/AppContainer.js\n// module id = 222\n// module chunks = 4","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable react/prop-types */\n\nvar React = require('react');\n\nvar Component = React.Component;\n\nvar AppContainer = function (_Component) {\n  _inherits(AppContainer, _Component);\n\n  function AppContainer() {\n    _classCallCheck(this, AppContainer);\n\n    return _possibleConstructorReturn(this, (AppContainer.__proto__ || Object.getPrototypeOf(AppContainer)).apply(this, arguments));\n  }\n\n  _createClass(AppContainer, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.component) {\n        return React.createElement(this.props.component, this.props.props);\n      }\n\n      return React.Children.only(this.props.children);\n    }\n  }]);\n\n  return AppContainer;\n}(Component);\n\nmodule.exports = AppContainer;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-hot-loader/lib/AppContainer.prod.js\n// module id = 223\n// module chunks = 4","import {createStore, applyMiddleware} from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\nimport combineReducers from './reducers.js';\r\n\r\n\r\nlet store = createStore(combineReducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\n\n\n// WEBPACK FOOTER //\n// src/redux/store.js","function createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/redux-thunk/es/index.js\n// module id = 252\n// module chunks = 4","import {combineReducers} from 'redux'\r\n\r\nimport counter from './reducers/counter'\r\nimport userInfo from './reducers/userInfo'\r\n\r\nexport default combineReducers({\r\n    counter,\r\n    userInfo\r\n})\n\n\n// WEBPACK FOOTER //\n// src/redux/reducers.js","import {INCREMENT, DECREMENT, RESET} from '../actions/counter';\r\n\r\n/*\r\n* 初始化state\r\n */\r\n\r\nconst initState = {\r\n    count: 0\r\n};\r\n/*\r\n* reducer\r\n */\r\nexport default function reducer(state = initState, action) {\r\n    switch (action.type) {\r\n        case INCREMENT:\r\n            return {\r\n                count: state.count + 1\r\n            };\r\n        case DECREMENT:\r\n            return {\r\n                count: state.count - 1\r\n            };\r\n        case RESET:\r\n            return {count: 0};\r\n        default:\r\n            return state\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// src/redux/reducers/counter.js","import { GET_USER_INFO_REQUEST, GET_USER_INFO_SUCCESS, GET_USER_INFO_FAIL} from '../actions/userInfo'\r\n\r\nconst initState = {\r\n    isLoading: false,\r\n    userInfo: {name:'初始值', intro:'初始值'},\r\n    errorMsg: ''\r\n}\r\n\r\nexport default function reducer(state = initState, action) {\r\n    switch (action.type) {\r\n        case GET_USER_INFO_REQUEST:\r\n            return {\r\n                ...state,\r\n                isLoading: true,\r\n                userInfo: {},\r\n                errorMsg: ''\r\n            }\r\n        case GET_USER_INFO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                userInfo: action.userInfo,\r\n                errorMsg: ''\r\n            }\r\n        case GET_USER_INFO_FAIL:\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                userInfo: {},\r\n                errorMsg: '请求错误'\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// src/redux/reducers/userInfo.js","import React from 'react';\r\n\r\nimport {BrowserRouter as Router, Route, Switch, Link} from 'react-router-dom';\r\n\r\nimport Bundle from './Bundle';\r\n\r\nimport Home from 'bundle-loader?lazy&name=home!pages/Home/index';\r\nimport Page1 from 'bundle-loader?lazy&name=page1!pages/Page1/index';\r\nimport Counter from 'bundle-loader?lazy&name=counter!pages/Counter/Counter';\r\nimport UserInfo from 'bundle-loader?lazy&name=userInfo!pages/UserInfo/UserInfo';\r\n\r\nconst Loading = function () {\r\n    return <div>Loading...</div>\r\n};\r\n\r\nconst createComponent = (component) => (props) => (\r\n    <Bundle load={component}>\r\n        {\r\n            (Component) => Component ? <Component {...props} /> : <Loading/>\r\n        }\r\n    </Bundle>\r\n);\r\n\r\nconst getRouter = () => (\r\n    <Router>\r\n        <div>\r\n            <ul>\r\n                <li><Link to=\"/\">首页</Link></li>\r\n                <li><Link to=\"/page1\">Page1</Link></li>\r\n                <li><Link to=\"/counter\">Counter</Link></li>\r\n                <li><Link to=\"/userinfo\">UserInfo</Link></li>\r\n            </ul>\r\n            <Switch>\r\n                <Route exact path=\"/\" component={createComponent(Home)}/>\r\n                <Route path=\"/page1\" component={createComponent(Page1)}/>\r\n                <Route path=\"/counter\" component={createComponent(Counter)}/>\r\n                <Route path=\"/userinfo\" component={createComponent(UserInfo)}/>\r\n            </Switch>\r\n        </div>\r\n    </Router>\r\n);\r\n\r\nexport default getRouter;\n\n\n// WEBPACK FOOTER //\n// src/router/router.js","import React, {Component} from 'react'\r\n\r\nclass Bundle extends Component {\r\n    state = {\r\n        // short for \"module\" but that's a keyword in js, so \"mod\"\r\n        mod: null\r\n    };\r\n\r\n    componentWillMount() {\r\n        this.load(this.props)\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.load !== this.props.load) {\r\n            this.load(nextProps)\r\n        }\r\n    }\r\n\r\n    load(props) {\r\n        this.setState({\r\n            mod: null\r\n        });\r\n        props.load((mod) => {\r\n            this.setState({\r\n                // handle both es imports and cjs\r\n                mod: mod.default ? mod.default : mod\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return this.props.children(this.state.mod)\r\n    }\r\n}\r\n\r\nexport default Bundle;\n\n\n// WEBPACK FOOTER //\n// src/router/Bundle.js","module.exports = function(cb) {\n\trequire.ensure([], function(require) {\n\t\tcb(require(\"!!../../../node_modules/babel-loader/lib/index.js!./index.js\"));\n\t}, \"home\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bundle-loader?lazy&name=home!./src/pages/Home/index.js\n// module id = 281\n// module chunks = 4","module.exports = function(cb) {\n\trequire.ensure([], function(require) {\n\t\tcb(require(\"!!../../../node_modules/babel-loader/lib/index.js!./index.js\"));\n\t}, \"page1\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bundle-loader?lazy&name=page1!./src/pages/Page1/index.js\n// module id = 282\n// module chunks = 4","module.exports = function(cb) {\n\trequire.ensure([], function(require) {\n\t\tcb(require(\"!!../../../node_modules/babel-loader/lib/index.js!./Counter.js\"));\n\t}, \"counter\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bundle-loader?lazy&name=counter!./src/pages/Counter/Counter.js\n// module id = 283\n// module chunks = 4","module.exports = function(cb) {\n\trequire.ensure([], function(require) {\n\t\tcb(require(\"!!../../../node_modules/babel-loader/lib/index.js!./UserInfo.js\"));\n\t}, \"userInfo\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bundle-loader?lazy&name=userInfo!./src/pages/UserInfo/UserInfo.js\n// module id = 284\n// module chunks = 4"],"mappings":";;;;;;;;;;;AAMA;AAIA;AAIA;AAdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAdA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAGA;;;;;;;;;;;;;;;;ACSA;AAvBA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;AAtCA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAKA;AACA;AAMA;AACA;AAKA;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;;;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;AACA;AACA;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAOA;;;;;;;;AATA;;;;;;;;;;ACnBA;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACRA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvCA;AACA;AAAA;AACA;;;AACA;AACA;;;;;AAEA;AACA;AACA;;;;;;;;;AAFA;AACA;;;;;;;;;;;;ACPA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;;;AAAA;AACA;;;;;AACA;AACA;AACA;AAFA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACMA;AACA;AAbA;AACA;AACA;;;;AAIA;AACA;AADA;AAGA;;;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAZA;AAcA;;;;;;;;AArBA;AACA;AAKA;;;;;;;;;;;;;;;;;;;ACJA;AACA;AATA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAvBA;AAyBA;;;;;;;;AAhCA;AACA;AAKA;;;;;;;;;;;;;;;;;ACRA;AACA;;;AACA;AACA;AACA;AACA;;;AACA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAFA;AADA;AAAA;AACA;AAOA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAPA;AADA;AADA;AACA;AAkBA;;;;;;;;;AA/BA;AACA;AAGA;AACA;AAOA;AACA;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;;;;;;;;;;;AACA;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;;;;;AAKA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AACA;AACA;;;;AA9BA;AACA;AAgCA;;;;;;;;;AAjCA;AACA;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}